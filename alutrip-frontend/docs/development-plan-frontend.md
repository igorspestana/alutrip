# AluTrip - Travel Planning Assistant API - Development Plan

## Project Overview

AluTrip is an open-source travel planning assistant that revolutionizes how people plan their trips without bureaucracy, login, or barriers. The API provides intelligent travel assistance using Large Language Models (LLMs) from both Groq and Gemini providers, allowing users to ask travel questions and generate personalized travel itineraries.

## Core Features

### Phase 5: Frontend MVP
- [ ] AluTrip Responde frontend form
- [ ] AluTrip Planeja frontend form
- [ ] API integration and error handling
- [ ] Responsive design and user experience
- [ ] Rate limiting user feedback

## Feature Descriptions

### AluTrip Responde (Travel Q&A)
**Purpose**: Allow users to ask travel-related questions and receive AI-generated answers.

**User Flow**:
1. User enters a travel question (10-1000 characters)
2. User selects AI model (Groq or Gemini)
3. System validates input and checks rate limits
4. AI processes question and generates response
5. User receives immediate answer with model information

**Key Features**:
- Real-time question submission
- AI model selection
- Rate limiting (5 requests per 24h per IP)
- Input validation and error handling

### AluTrip Planeja (Itinerary Planning)
**Purpose**: Generate personalized travel itineraries based on user preferences and constraints.

**User Flow**:
1. User fills comprehensive form with travel details:
   - Destination (required)
   - Travel dates (start/end, max 7 days)
   - Budget (optional, $100-$50,000)
   - Interests (optional, max 10 selections)
2. System validates input and submits request
3. Itinerary generation starts (asynchronous processing)
4. User can check processing status in real-time
5. When completed, user can download PDF itinerary

**Key Features**:
- Comprehensive form with validation
- Asynchronous processing with status tracking
- PDF generation and download
- Rate limiting (5 requests per 24h per IP)
- Real-time status updates

**Processing States**:
- `pending`: Request submitted, waiting for processing
- `processing`: Currently being generated by AI
- `completed`: Successfully generated, PDF available
- `failed`: Generation failed, error occurred

## Technical Architecture

### Tech Stack
- **Frontend**: React 19.1 with TypeScript
- **Styling**: Tailwind CSS + Shadcn/ui
- **Forms**: React Hook Form + Zod validation
- **Build Tool**: Vite
- **Icons**: Lucide React

## Project Structure (Hybrid Architecture)

```
alutrip/
├── alutrip-frontend/                  # React 19.1 Frontend (Independent)
│   ├── src/
│   │   ├── components/        # React components
│   │   │   ├── forms/         # Form components
│   │   │   ├── common/        # Reusable components
│   │   │   ├── layout/        # Layout components
│   │   │   └── ui/            # Shadcn/ui components
│   │   ├── pages/             # Page components
│   │   ├── services/          # API clients
│   │   ├── types/             # TypeScript types
│   │   ├── utils/             # Utility functions
│   │   ├── lib/               # Utility functions (cn, etc.)
│   │   └── App.tsx            # Main app component
│   ├── public/                # Static files
│   ├── docker/                # Docker for independent development
│   │   └── docker-compose.yml # Frontend standalone
│   ├── package.json           # Frontend dependencies
│   ├── tsconfig.json          # Frontend TypeScript config
│   ├── vite.config.ts         # Vite configuration
│   ├── tailwind.config.js     # Tailwind CSS configuration
│   ├── postcss.config.js      # PostCSS configuration
│   ├── components.json        # Shadcn/ui configuration
│   ├── Dockerfile             # Frontend Dockerfile
│   └── .env.example           # Frontend environment variables
```

## API Endpoints (consumo no frontend)

### AluTrip Responde (Travel Q&A)
- `POST /api/travel/ask` - Submit travel question with model selection
- `GET /api/travel/questions/:id` - Get specific question and response

### AluTrip Planeja (Itinerary Planning)
- `POST /api/itinerary/create` - Submit itinerary request
- `GET /api/itinerary/:id/status` - Check itinerary generation status
- `GET /api/itinerary/:id/download` - Download generated PDF

### Health Check
- `GET /health` - API health check

## Package Dependencies

### Installation Commands

```bash
# Frontend dependencies (Independent Project)
cd ../alutrip-frontend
npm init -y

# Core React dependencies
npm install react@19.1 react-dom@19.1 @types/react @types/react-dom typescript @vitejs/plugin-react vite

# API and form handling
npm install axios react-hook-form @hookform/resolvers zod

# Tailwind CSS and Shadcn/ui
npm install tailwindcss postcss autoprefixer
npm install @radix-ui/react-slot class-variance-authority clsx tailwind-merge lucide-react

# Frontend development dependencies
npm install -D eslint @typescript-eslint/eslint-plugin @typescript-eslint/parser eslint-plugin-react-hooks eslint-plugin-react-refresh prettier

# Initialize Tailwind CSS
npx tailwindcss init -p

# Initialize Shadcn/ui
npx shadcn@latest init
```

### Frontend Package.json Dependencies
```json
{
  "name": "alutrip-frontend",
  "version": "1.0.0",
  "description": "AluTrip Travel Assistant Frontend",
  "type": "module",
  "scripts": {
    "dev": "vite",
    "build": "tsc && vite build",
    "preview": "vite preview",
    "lint": "eslint . --ext ts,tsx --report-unused-disable-directives --max-warnings 0",
    "lint:fix": "eslint . --ext ts,tsx --fix",
    "format": "prettier --write src",
    "type-check": "tsc --noEmit"
  },
  "dependencies": {
    "react": "^19.1.0",
    "react-dom": "^19.1.0",
    "axios": "^1.6.0",
    "react-hook-form": "^7.48.0",
    "@hookform/resolvers": "^3.3.0",
    "zod": "^3.22.0",
    "@radix-ui/react-slot": "^1.0.2",
    "class-variance-authority": "^0.7.0",
    "clsx": "^2.0.0",
    "tailwind-merge": "^2.0.0",
    "lucide-react": "^0.292.0"
  },
  "devDependencies": {
    "@types/react": "^18.2.0",
    "@types/react-dom": "^18.2.0",
    "@typescript-eslint/eslint-plugin": "^6.14.0",
    "@typescript-eslint/parser": "^6.14.0",
    "@vitejs/plugin-react": "^4.2.0",
    "eslint": "^8.55.0",
    "eslint-plugin-react-hooks": "^4.6.0",
    "eslint-plugin-react-refresh": "^0.4.5",
    "typescript": "^5.2.0",
    "vite": "^5.0.0",
    "prettier": "^3.1.0",
    "tailwindcss": "^3.3.0",
    "autoprefixer": "^10.4.16",
    "postcss": "^8.4.31"
  },
  "engines": {
    "node": ">=18.0.0",
    "npm": ">=9.0.0"
  }
}
```

## Frontend MVP Implementation

### Project Setup
- Initialize React 19.1 project with Vite
- Setup TypeScript configuration
- Configure Tailwind CSS with PostCSS
- Initialize Shadcn/ui components
- Configure API client with Axios
- Create basic component structure with Shadcn/ui
- Setup form handling with React Hook Form + Zod
- Create utility functions (cn helper for class merging)

### AluTrip Responde Frontend
- Create travel question form using Shadcn/ui components:
  - `Card` component for form container
  - `Textarea` for question input
  - `Select` for LLM model selection
  - `Button` for form submission
  - `Alert` for rate limiting feedback
- Implement form validation using React Hook Form + Zod
- Add API integration for question submission
- Create loading states with Shadcn/ui `Button` loading variant
- Handle rate limiting errors with `Alert` component
- Add responsive design using Tailwind CSS classes

### AluTrip Planeja Frontend
- Create comprehensive itinerary request form using Shadcn/ui:
  - `Form` component with React Hook Form integration
  - `DatePicker` for travel date selection (max 7 days validation)
  - `Input` for budget and destination fields
  - `Checkbox` for interests selection
  - `Button` for form submission
  - `Progress` for processing status feedback
- Implement form validation with Zod schemas
- Create form submission with loading states
- Add processing status feedback using `Progress` component
- Handle form validation and error states with `Alert` components

### Common Frontend Features
- Setup API client with Axios and proper error handling
- Install and configure Shadcn/ui components:
  - `Button`, `Input`, `Textarea`, `Select`, `Checkbox`
  - `Card`, `Alert`, `Progress`, `Toast`
  - `Form` components with React Hook Form integration
- Implement consistent styling using Tailwind CSS utility classes
- Create responsive layout with Tailwind CSS grid and flexbox
- Add proper TypeScript types for all API responses
- Create user-friendly error messages using `Alert` and `Toast` components
- Ensure accessibility with Shadcn/ui built-in ARIA support
- Implement dark/light theme support using CSS variables

## Design System and Brand Guidelines

### Typography
- **Títulos**: Chakra Petch
- **Textos**: Inter

### Color Palette
- **Background principal**: #01080E
- **Background secundário**: #021017
- **Texto destacado**: #49DEFD
- **Texto normal**: #D7F9FF
- **Background botão**: #43FDBE
- **Background botão hover**: #D9FFF6
- **Texto do botão**: #01080E
- **Contorno dos inputs**: #49DEFD

## Tailwind CSS and Shadcn/ui Configuration

### Tailwind CSS Setup
```javascript
// tailwind.config.js
/** @type {import('tailwindcss').Config} */
export default {
  darkMode: ["class"],
  content: [
    './pages/**/*.{ts,tsx}',
    './components/**/*.{ts,tsx}',
    './app/**/*.{ts,tsx}',
    './src/**/*.{ts,tsx}',
  ],
  prefix: "",
  theme: {
    container: {
      center: true,
      padding: "2rem",
      screens: {
        "2xl": "1400px",
      },
    },
    extend: {
      fontFamily: {
        'heading': ['Chakra Petch', 'sans-serif'],
        'body': ['Inter', 'sans-serif'],
      },
      colors: {
        // AluTrip Brand Colors
        'brand': {
          'primary-bg': '#01080E',
          'secondary-bg': '#021017',
          'accent-text': '#49DEFD',
          'normal-text': '#D7F9FF',
          'button-bg': '#43FDBE',
          'button-hover': '#D9FFF6',
          'button-text': '#01080E',
          'input-border': '#49DEFD',
        },
        // Shadcn/ui compatibility colors
        border: "hsl(var(--border))",
        input: "hsl(var(--input))",
        ring: "hsl(var(--ring))",
        background: "hsl(var(--background))",
        foreground: "hsl(var(--foreground))",
        primary: {
          DEFAULT: "hsl(var(--primary))",
          foreground: "hsl(var(--primary-foreground))",
        },
        secondary: {
          DEFAULT: "hsl(var(--secondary))",
          foreground: "hsl(var(--secondary-foreground))",
        },
        destructive: {
          DEFAULT: "hsl(var(--destructive))",
          foreground: "hsl(var(--destructive-foreground))",
        },
        muted: {
          DEFAULT: "hsl(var(--muted))",
          foreground: "hsl(var(--muted-foreground))",
        },
        accent: {
          DEFAULT: "hsl(var(--accent))",
          foreground: "hsl(var(--accent-foreground))",
        },
        popover: {
          DEFAULT: "hsl(var(--popover))",
          foreground: "hsl(var(--popover-foreground))",
        },
        card: {
          DEFAULT: "hsl(var(--card))",
          foreground: "hsl(var(--card-foreground))",
        },
      },
      borderRadius: {
        lg: "var(--radius)",
        md: "calc(var(--radius) - 2px)",
        sm: "calc(var(--radius) - 4px)",
      },
      keyframes: {
        "accordion-down": {
          from: { height: "0" },
          to: { height: "var(--radix-accordion-content-height)" },
        },
        "accordion-up": {
          from: { height: "var(--radix-accordion-content-height)" },
          to: { height: "0" },
        },
      },
      animation: {
        "accordion-down": "accordion-down 0.2s ease-out",
        "accordion-up": "accordion-up 0.2s ease-out",
      },
    },
  },
  plugins: [require("tailwindcss-animate")],
}
```

### Shadcn/ui Configuration
```json
// components.json
{
  "$schema": "https://ui.shadcn.com/schema.json",
  "style": "default",
  "rsc": false,
  "tsx": true,
  "tailwind": {
    "config": "tailwind.config.js",
    "css": "src/index.css",
    "baseColor": "slate",
    "cssVariables": true,
    "prefix": ""
  },
  "aliases": {
    "components": "@/components",
    "utils": "@/lib/utils"
  }
}
```

### Required Shadcn/ui Components
```bash
# Install essential components for AluTrip
npx shadcn@latest add button
npx shadcn@latest add input
npx shadcn@latest add textarea
npx shadcn@latest add select
npx shadcn@latest add checkbox
npx shadcn@latest add card
npx shadcn@latest add alert
npx shadcn@latest add progress
npx shadcn@latest add toast
npx shadcn@latest add form
npx shadcn@latest add date-picker
npx shadcn@latest add label
```

### CSS Variables Setup
```css
/* src/index.css */
@import url('https://fonts.googleapis.com/css2?family=Chakra+Petch:wght@300;400;500;600;700&family=Inter:wght@300;400;500;600;700&display=swap');

@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  :root {
    /* AluTrip Brand Colors */
    --background: 1 8% 3%; /* #01080E */
    --foreground: 195 100% 92%; /* #D7F9FF */
    --card: 1 8% 3%; /* #01080E */
    --card-foreground: 195 100% 92%; /* #D7F9FF */
    --popover: 1 8% 3%; /* #01080E */
    --popover-foreground: 195 100% 92%; /* #D7F9FF */
    --primary: 195 100% 65%; /* #49DEFD */
    --primary-foreground: 1 8% 3%; /* #01080E */
    --secondary: 1 8% 5%; /* #021017 */
    --secondary-foreground: 195 100% 92%; /* #D7F9FF */
    --muted: 1 8% 5%; /* #021017 */
    --muted-foreground: 195 100% 65%; /* #49DEFD */
    --accent: 1 8% 5%; /* #021017 */
    --accent-foreground: 195 100% 92%; /* #D7F9FF */
    --destructive: 0 84.2% 60.2%;
    --destructive-foreground: 210 40% 98%;
    --border: 195 100% 65%; /* #49DEFD */
    --input: 195 100% 65%; /* #49DEFD */
    --ring: 195 100% 65%; /* #49DEFD */
    --radius: 0.5rem;
  }

  .dark {
    /* Dark theme uses same colors as light theme for AluTrip */
    --background: 1 8% 3%; /* #01080E */
    --foreground: 195 100% 92%; /* #D7F9FF */
    --card: 1 8% 3%; /* #01080E */
    --card-foreground: 195 100% 92%; /* #D7F9FF */
    --popover: 1 8% 3%; /* #01080E */
    --popover-foreground: 195 100% 92%; /* #D7F9FF */
    --primary: 195 100% 65%; /* #49DEFD */
    --primary-foreground: 1 8% 3%; /* #01080E */
    --secondary: 1 8% 5%; /* #021017 */
    --secondary-foreground: 195 100% 92%; /* #D7F9FF */
    --muted: 1 8% 5%; /* #021017 */
    --muted-foreground: 195 100% 65%; /* #49DEFD */
    --accent: 1 8% 5%; /* #021017 */
    --accent-foreground: 195 100% 92%; /* #D7F9FF */
    --destructive: 0 62.8% 30.6%;
    --destructive-foreground: 210 40% 98%;
    --border: 195 100% 65%; /* #49DEFD */
    --input: 195 100% 65%; /* #49DEFD */
    --ring: 195 100% 65%; /* #49DEFD */
  }

  /* Global font family settings */
  body {
    font-family: 'Inter', sans-serif;
  }

  h1, h2, h3, h4, h5, h6 {
    font-family: 'Chakra Petch', sans-serif;
  }
}
```

### Custom Tailwind Classes Usage Examples

```tsx
// Typography examples
<h1 className="font-heading text-brand-accent-text text-4xl">AluTrip</h1>
<p className="font-body text-brand-normal-text">Travel planning made easy</p>

// Background examples
<div className="bg-brand-primary-bg">Main background</div>
<div className="bg-brand-secondary-bg">Secondary background</div>

// Button examples
<button className="bg-brand-button-bg text-brand-button-text hover:bg-brand-button-hover">
  Submit
</button>

// Input examples
<input className="border-brand-input-border focus:ring-brand-input-border" />
```

## Docker Configuration for Hybrid Architecture

### 2. Frontend Independent Docker Configuration
```yaml
# alutrip-frontend/docker/docker-compose.yml
version: '3.8'

services:
  # Frontend Service
  alutrip-frontend:
    build:
      context: ..
      dockerfile: Dockerfile
    ports:
      - "5173:5173"
    environment:
      - VITE_API_URL=http://localhost:3000
    volumes:
      - ..:/app
      - /app/node_modules
    networks:
      - alutrip-frontend-network
    command: npm run dev

networks:
  alutrip-frontend-network:
    driver: bridge
```

### Frontend Dockerfile
```dockerfile
# alutrip-frontend/Dockerfile
FROM node:18-alpine

WORKDIR /app

# Copy package files
COPY package*.json ./

# Install dependencies
RUN npm ci

# Copy source code
COPY . .

# Expose port
EXPOSE 5173

# Start development server
CMD ["npm", "run", "dev", "--", "--host", "0.0.0.0"]
```

### Development Commands

#### Independent Development Commands
```bash
# Frontend independent development
cd alutrip-frontend
./docker/docker-compose up -d alutrip-frontend
./docker/docker-compose logs -f alutrip-frontend
./docker/docker-compose down
```

## Quality Assurance Checklist

### Code Quality
- [ ] TypeScript strict mode enabled for both frontend and backend
- [ ] ESLint rules configured and passing
- [ ] Tailwind CSS classes properly organized and optimized
- [ ] Shadcn/ui components properly configured and customized
- [ ] CSS variables properly defined for theming
- [ ] Clean architecture patterns followed
- [ ] SOLID principles applied

### Documentation
- [ ] README with setup instructions for monorepo
- [ ] Environment variables documented
- [ ] Architecture diagrams updated for AluTrip

## Success Metrics

- **User Experience**:
  - Successful form submissions > 95%
  - Clear error messages and user feedback


